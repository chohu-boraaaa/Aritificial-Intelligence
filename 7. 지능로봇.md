# 지능로봇

## 1. 로봇

### 로봇의 유래
- 체코 Capek의 1921년 연극 - R.U.R 에서 Robota 허드레 일을 하는 사람, 강제 노동, 공장에서 생산한 작업자 기계 제시

### 로봇의 정의
- 사람이 하는 걷기, 말하기와 같은 다양하고 복잡한 행동을 하는 사람처럼 보이는 기계 - Webster
- 자동으로 또는 컴퓨터 제어에 따라 사람의 일을 할 수 있는 기계 - Webster
- 다양한 작업을 위해 프로그램된 동작들을 통해서 자재, 부품, 도구, 장치 등을 움직이도록 설계된 재프로그래밍이 가능한 다기능 조작기 - Robotics Institute of America

### 로봇의 용도
- 3D 작업의 대체 : dirty, dangerous, demanding / 지저분하거나 위험하거나 힘든 작업 대체
- 산업용 로봇
- 하수도/파이프 점검 로봇
- 폭탄 제거 로봇
- 청소 로봇
- 미래형 전투 로봇

#### 인간 작업의 개선
- 사람이 하는 것보다 잘 할 수 있는 분야에 적용
- 구난 로봇 : 사람이 진입할 수 없는 재난 현장에 투입
- 감시 로봇 : 피로나 집중력 문제 해소

#### 인간보조
- 노인보조, 간병, 재활치료, 컴패니언 로봇, 운동치료, 외골격 로봇, 로봇 수술

#### 오락
- 장난감 : Sony AIBO
- 휴머노이드 로봇 : Honda ASIMO, KAIST Hubo, KIST Kibo
- 교육용 로봇

#### 산업용 로봇
- 생산 라인에서 반복적인 정해진 작업을 수행하는 로봇
- 로봇 팔 또는 패니퓰레이터라고 불리는 것 ex. Baxtor (다양한 기능, 머신러닝 기법 이용)

#### 서비스 로봇
- 특정 서비스를 위해 사용되는 것으로 개인용 로봇과 전문작업용 로봇
- 서비스 환경에 대한 인식과 환경에 따른 적응적인 동작을 해야 하기 때문에 인공지능 기술 필요

#### 무인 지상 로봇
- 이동체, 휴머노이드/동물형태, 모트(mote), 자율주행자동차, 물류로봇, 로봇청소기

#### 무인 비행체
- 고정익(fixed wing), 수직이착륙(VTOL, vertical take-off and landing), 소형비행체(MAV, micro aerial vehicle), 드론(drone)

#### 무인 수중 로봇
- 자율운행 로봇 : 자율 잠수정
- 원격조정 로봇 : 원격조정 수중 작업 로봇

### 로봇 기술의 분야
1. 위치추정(localization)
- 로봇의 현재 위치를 결정하기 위한 기술
2. 센서 처리/인식/결합(sensor processing/perception/fusion)
- 로봇의 현재 상태 및 주변 상황을 판단하기 위해 센서 데이터를 처리하여 해석하는 기술
3. 불확실성 관리(uncertainty management)
- 잡음과 오류가 있는 센서 측정값의 처리 방법
4. 센서 결합(sensor fusion)
- 현재 상태에 대한 추정치를 개선하기 위해 여러 센서의 데이터를 결합하는 기술
5. 환경 모델링(environment modeling)
- 로봇의 주변 환경에 대한 가정 설정 및 표현 기술
6. 관심 집중(focus-of-attention)
- 로봇이 집중해야 하는 대상의 설정 및 추적 기술
7. 제어 구조(control architecture)
- 충분히 빠르게 로봇이 빠르게 반응할 수 있도록 제어 전략 및 구현 기술
8. 추론 및 작업 조정(reasoning and task arbitration)
- 상황에 대한 추론 및 해야 할 작업 등에 대한 의사결정 기술
9. 경로 계획 및 항법(path planning and navigation)
- 로봇의 목적지 및 이동경로 결정 기술
10. 행동 선택(action selection)
- 취할 수 있는 행동이 여러 개 있을 때, 바람직한 행동 선택 기술
11. 학습 및 적응(learning and adaptation)
- 동적으로 변하는 환경에 대응하도록 로봇의 동작 특성 및 지식이 변하도록 학습하는 기술
12. 은닉상태 모델링(hidden state modeling)
- 동일한 행동이지만 이전의 행동과는 다른 결과가 나오는 환경에는 관측되지 않은 은닉상태가 있기 때문에 은닉상태를 고려하여 로봇의 동작 특성을 모델링하는 기술 ex. 확률적 모델
13. 다중 로봇 협업 및 통신(multi-robot cooperation and communication)
- 여러 로봇이 있는 환경에서 다른 로봇들과 함께 일을 하도록 조정하는 기술 및 정보를 주고받는 기술

## 2. 로봇 시스템의 구성

### 로봇 시스템
- 로봇의 목적에 맞는 행동을 할 수 있도록 여러 요소들이 상호작용하는 관계로 통합되어 있는 것
- 요소 : 물리적 요소, 소프트웨어적 요소
- 관계 : 물리적 지지, 동력 전달, 신호 전달, 데이터 전달

### 물리적 구성요소

#### 기구적 구성요소
- 각종 기계 및 기구 부품
- 프레임(뼈대, frame)
- 하우징(housing) : 외관 또는 다른 장치를 지지하는 구조물
- 링크(link) : 강체로 되어 있는 부분
- 관절(joint) : 링크를 연결하는 부분
- 베어링, 기어, 타이밍 벨트, 바퀴 등등..
![image](https://user-images.githubusercontent.com/77424107/145602449-89e94607-7477-4849-8e55-140b5cf9724a.png)
- 자유도가 3은 되어야 마음대로 움직일 수 있음

#### 하드웨어적 구성요소
- 전기 또는 전자적으로 작동하는 요소
- 구동기(=단말조작자, actuator) : 힘을 전달하여 움직이게 하는 장치
- 센서 : 로봇의 내부 상태, 작업 대상, 외부 환경 정보 수집
- 제어기(controller) : 구동기, 센서 등에 연결되어 제어하는 장치
- SBC(Single Board Computer) : 라즈베리 파이와 같은 작은 컴퓨터
- 컴퓨터 본체 등...

### 소프트웨어적 구성요소
- 과업(task) 수행을 위한 각종 응용프로그램

#### 운영체제
- SBC 등의 컴퓨터에 대한 자원관리

#### 제어기 펌웨어
- 모터, 센서 등 각종 장치를 제어하는 MCU(micro-controller unit)에 탑재되는 소프트웨어
- 받은 요청에 따라 해당 장치를 제어하고 처리
- 펌웨어는 운영체제 없이도 컨트롤 및 제한적인 자원관리 가능

#### 미들웨어
- 다른 운영체제 또는 다른 프로그램 언어로 개발된 분산 환경에서 소프트웨어 컴포넌트나 응용 프로그램이 쉽게 통신할 수 있도록 하는 소프트웨어
- 일반적으로 라이브러리 형태
- 미들웨어와 각종 개발도구들이 함께 개발 프레임워크를 제공

#### 응용 소프트웨어 모듈
- 센서 데이터로부터 자신 및 주변 상황을 인식하는 모듈
- 자신 및 주변 상황을 추론하는 모듈
- 특정 임무의 달성을 위한 계획 수립 모듈 - 경로 계획, 로봇 팔의 매니퓰레이션
- 계획에 따른 제어 모듈 - 주행, 항법
- 동시적 위치추정 및 지도작성(SLAM) : 로봇이 어디에 있는지 어떤 상황에 있는지 알아야 하는데 로봇청소기의 경우는 집안의 평면도를 알아서 만들고 청소를 어디를 했는지 파악하는 것. 
경우에 따라서는 지도가 없는 경우에는 지도를 알아서 만들고 만든 지도 안에서 이동.
- 현재 상황에서 가장 바람직한 행동선택을 하는 모듈
- 다른 로봇 또는 사람과 의사소통하는 모듈 - 음성인식, 얼굴인식, 제스처 인식, 대화 안식
- 학습 모듈

## 3. 기구학과 동력학

### 기구학
- 로봇의 관절이나 바퀴의 회전과 로봇의 변형이나 움직임을 결정하는데 사용되는 이론

#### 매니퓰레이터(manipulator)
- 관절의 회전 각도에 따라 단말조작자의 위치 변화
- 단말조작자의 위치와 매니퓰레이터의 궤적에 관심

##### 매니퓰레이터의 기구학
- 순기구학 : 각 관절의 모터 회적 각도가 어떻게 단말 조작자의 위치 변화를 유발시키는 해석하는 것
![image](https://user-images.githubusercontent.com/77424107/145685051-fc745afa-9407-4f8a-b8ef-0aa57d481e38.png)

- 역기구학 : 단말 조작자를 특정 위치에 두기 위해 각 관절의 모터를 얼마만큼 회전시켜야 하는지 결정하는 것
![image](https://user-images.githubusercontent.com/77424107/145685079-e0cc3aa4-67a5-4c87-a58a-47effb839bdb.png)

#### 이동 로봇
- 바퀴의 회전에 따라 로봇의 위치 변화

##### 이동 로봇의 기구학
- 바퀴 구동 모델
![image](https://user-images.githubusercontent.com/77424107/145685140-687c9348-fe5e-4263-9c52-18cdc9399a1e.png)
![image](https://user-images.githubusercontent.com/77424107/145685164-d3e6b6d0-b8ff-4880-b18e-a5e3c3c13b23.png)

### 동력학
- 링크와 같은 강체를 움직이는 힘과 운동, 속도를 해결하는 분야
![image](https://user-images.githubusercontent.com/77424107/145685255-0ddd89ab-5fc3-45a1-b25f-182941b316e8.png)

## 4. 센서와 구동기

### 센서
- 기기의 내외부 조건 및 상황을 계측하기 위해 사용되는 장치

#### 내부 센서
- 로봇의 동작을 위해 필수적인 상태 값 측정
- 모터 회전량을 계측하는 엔코더(encoder), 기계 작동범위를 제한하는 한계 스위치, GPS, 자이로스코프, 가속도 센서, 관성측정 장치(IMU), 지자기 센서, 자세 방향 기준 장치(AHRS) 등

##### 엔코더
- 모터에 장착되어 모터의 회전 각도에 비례한 펄스를 출력하는 센서
![image](https://user-images.githubusercontent.com/77424107/145685467-438410d0-0793-43cc-9000-0db1c14a32c7.png)
- 엔코더 카운터 칩이나 MCU 사용하여 회전수 측정
- 로봇의 이동량을 측정하는데 사용

##### GPS
- 4개의 GPS 위성에서 보내는 신호를 수신해 사용자의 현재 위치를 계산하는 방법
- 시각, 위도, 경도, 고도 정보 제공

##### 자이로스코프
- 회전하는 축은 외력에 저항하며 현재 상태 유지 성질
- 자이로스코프는 짐발(수평유지장치)에 놓이게 되므로 외부의 토크는 최소화, 장착된 짐발이 움직이더라도 회전축 방향은 거의 고정
- 자이로스코프에서 생성된 신호 이용해 항공기 등의 자세 확인 가능
- MEMS(Micro Electro Mechanical Systems) 자이로스코프 출시 : 3축 각속도 측정, 각속도를 적분하여 각도 계산
![image](https://user-images.githubusercontent.com/77424107/145685524-d5e222fb-d96d-4688-864e-d1d1723498bf.png)

##### 가속도 센서
- 선형 가속도와 기울임 각도 측정
- 보통 제한된 모션 센싱 기능 제공
- MEMS 가속도 센서 칩 출시

##### 지자기 센서
- 지구 자기장 측정하는 센서
- 금속 탐지, 나침반 기능
- 직교하는 전도체 내의 전류와 자기장에 의해 전자가 편향되면서 도체 양단에 전압이 발생하는 원리 이용

##### 관성측정창지(IMU, Inertial Measurement Unit)
- 이동관성을 측정하는 가속도계, 회전관성을 측정하는 자이로계, 선택적으로 방위각을 측정하는 자계를 하나로 통합한 장치
- 가속도와 각속도를 적분하여 이동거리 산출 가능
- MEMS IMU 출시
- 관성항법시스템(inertial Navigation System, INS)에서 사용 : 항공기, 미사일, 잠수함 등에서 자신의 위치를 감지하여 목적지까지 유도하는 장치

##### 자세 방위 기준장치(AHRS, Attitude Heading Reference System)
- 가속도계의 가속도, 자이로스코프의 각속도, 지자기계의 방향 정보 이용
- 3차원 공간 상의 자세와 방위각에 대한 정보 출력

#### 외부 센서
- 로봇의 동작 환경과 작업 대상체에 대한 정보 수집
- 작업 대상을 인식하기 위한 카메라, 전방 장애물을 감지하는 초음파 센서, 거리 센서, 깊이 센서, 광학 카메라, 마이크로폰, 토크(torque) 센서

##### 적외선(infrared) 거리 센서
- 적외선을 방출하는 발광부(emitter)와 빛을 받아들이는 수광부(detector)로 구성
- 발광부에서 발생된 적외선이 물체에 부딪혀 반사된 빛을 수광부에서 감지하여, 물체의 유무와 거리 등 측정
- 아날로그 방식의 거리측정 센서
- 주변 환경(대상 물체의 색상, 명암변화, 태양광, 전기 불빛 등) 영향 
- 움직임 센서(motion sensor)로 사용하기도 함

##### 초음파(Ultrasound) 센서
- 사람의 귀로 들을 수 없는 20KHz 이상의 초음파 사용
- 가까운 거리에 있는 물체, 사람의 유무, 거리측정 등에 사용
- 음파의 속도(344m/s)는 온도에 영향을 받기 때문에 보정 필요

##### 레이더(RADAR, Radio Detection And Ranging)
- 라디오파를 사용하여 물체의 범위, 고도, 방향, 속도 측정
- 수백 km 범위 측정 레이더 수 m 이내 범위의 레이더도 존재
- 라디오파의 비행시간(time of flight, ToF)를 측정하여 거리 계산
- 차량용 레이더 : 자동차 위험 경고

##### 라이다(RIDAR)
- 빛 또는 레이저를 쏴서 물체와의 거리를 측정하는 기술
- 905~1550nm의 파장 사용. 0.1도 단위의 공간 분해능.
- 빛 또는 레이저의 비행시간을 측정하여 거리 계산
- 대상의 방향, 속도, 온도, 물질의 농도 등 특성 파악 가능
- 비나 눈오면 취약하고 시간세포 손상될 수 있다는 위험성 있음
- 스캐닝 라이다 : 360도 시야각
- 고정식(solid state) 라이다 : 최대 270도 시야각

##### 깊이 센서
- 비행시간 방식 : 발광에서 반사광의 감지까지 걸린 시간을 통해 거리 측정
- 구조광 방식 : 특정 패턴의 광을 주사하여, 패턴의 축소 및 왜곡을 측정하여 거리 측정, 동일한 거리여도 멀리에 있으면 가까워 보이는 것이 구조광 방식 이용

##### 소나(Sound Navigation and Ranging, SONAR)
- 음파에 의해 수중 목표의 방위 및 거리를 알아내는 장치
- 능동 소나 : 압력파인 음파를 발생시켜서 반사되어 돌아오는 음파의 전파 시간을 측정하여 거리 측정
- 수동 소나 : 음파를 발생시키지 않고 외부에서 발생한 음파를 수신하여 다른 잠수함이나 함선 등을 찾아내는 소나

##### 비전 센서(영상 카메라)
- RGB 카메라
- RGBD 카메라 (색상정보 + 깊이정보 제공)

##### 움직임 감지 센서(motion sensor)
- 외부 대상의 움직임이나 로봇 자체의 움직임을 측정하는 센서
- 적외선 센서, 초음파 센서, 가속도 센서 등

##### 마이크로폰(microphone)
- 외부 환경의 소리를 받아들이는 역할

##### 스마트 센서
- 마이크로프로세서를 내장하고 있어서 자체적인 처리 능력이 있는 센서
- 단순 raw 데이터 처리까지 해서 나옴
- 센싱 + 신호처리 + 통신기능
- 측정된 신호의 아날로그-디지털(DA) 변환, 잡음 제거, 데이터 압축 등의 처리 후 결과를 통신 네트워크 인터페이스를 통해 제공
![image](https://user-images.githubusercontent.com/77424107/145685980-998d9fcd-9d83-42b0-ad20-01875d46c06d.png)

### 구동기
- 로봇의 관절이나 바퀴 등에 제어 신호에 따라 물리적인 움직임을 주는 장치

#### 전기식(모터)
- DC모터 : 전원을 연결하면 전원이 끊길 때까지 회전
- 서보(servo)모터 : 모터 축의 위치에 대한 제어 신호를 받으면 해당 위치로 이동하여 상태 유지
- 스테퍼 모터 : 인가하는 펄스 수에 비례하여 회전
- 리니어 모터 : 직선 운동을 하는 모터
- 고출력, 고정밀도 가능, 비용 문제

#### 유압식 (hydraulic)
- 기름 사용
- 유압 실린더, 유압 모터
- 고출력 가능, 누유 문제

#### 공압식 (pneumatic)
- 공기압 실린더, 공기압 모터
- 소형시스템, 정밀도, 속도 문제

### 제어
- 로봇이 특정 임무를 수행하기 위해서는 관절, 바퀴, 단말 조작자의 모터를 어떤 순서와 간격에 따라 가속, 정속, 또는 감속하는 조작 필요
- 궤적 생성 : 임무를 수행하기 위해 미리 위치와 시간에 따른 궤적 생성
- 생성된 궤적을 따라가도록 계산된 조작을 하더라도 환경적 요인 때문에 기대한 대로 동작하지 않을 수 있음 - 기계적 정밀도 한계, 오작동, 미끄러짐 등
- 시스템이 동작할 때, 목표와 실제 값의 차이를 보정하여 목표한 대로 만드는 것이 제어이다.

#### 제어의 형태

##### 개루프 제어
- 위치 궤적 및 속도 정보에 대한 제어 프로파일을 미리 계산한 다음, 중간에 목표 값과 차이가 있어도 보정하지 않음

##### 폐루프 제어(되먹임 제어)
- 현재 상태 정보를 센서를 통해 입력받아서 목표와 현재 상태의 차이, 즉 오차를 줄이도록 지속해서 제어입력 결정
![image](https://user-images.githubusercontent.com/77424107/145686163-87879bb8-f17f-4ac9-9c49-fa3c4a7e76ad.png)
